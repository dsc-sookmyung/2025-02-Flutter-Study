# ì£¼ì°¨ ê¸°ë¡

ë‚ ì§œ: 2025ë…„ 11ì›” 11ì¼
ì§„ë„: Section 13: 139~146
í‚¤ì›Œë“œ: API, HTTP, Library, Networking, Packages

<aside>
<img src="https://www.notion.so/icons/verified_purple.svg" alt="https://www.notion.so/icons/verified_purple.svg" width="40px" />

**Whatâ€™s the point?**

 ì™¸ë¶€ APIë¥¼ í™œìš©í•˜ì—¬ ì•±ì„ ì—°ë™í•˜ëŠ” ë°©ë²•ì„ í•™ìŠµ

[Current weather data](https://openweathermap.org/current)

[](https://samples.openweathermap.org/data/2.5/weather?lat=35&lon=139&appid=b6907d289e10d714a6e88b30761fae22)

---

</aside>

# â˜” Section 13 Clima - Powering Your Flutter App with Live Web Data

---

## 139. Clima - A Modern Weather App

ìƒëµ

---

## 140. Getting Location Data From Across Platforms

1ï¸âƒ£ https://github.com/woojin-devv/clima clone í•´ ì˜¤ê¸°

2ï¸âƒ£ `Get dependencies`

3ï¸âƒ£ `lib/`ë””ë ‰í† ë¦¬ì— `main.dart`ì—ì„œ ë¶ˆëŸ¬ì˜¬ íŒŒì¼ ëª©ë¡ í™•ì¸, UI í™•ì¸

4ï¸âƒ£ **â€œget locationâ€**ì„ ìœ„í•´ì„œ í•„ìš”í•œ í”ŒëŸ¬ê·¸ì¸ ì°¾ê¸°: https://pub.dev/packages/geolocator

> **Usage**
> 
> 
> ---
> 
> ```yaml
> dependencies:
>   geolocator: ^14.0.2
> ```
> 
> **API**
> 
> ---
> 
> ```dart
> import 'package:geolocator/geolocator.dart';
> ```
> 

<aside>
ğŸ§µ

[**async & await**](https://www.notion.so/2a8d08815aba80398ddaf39382b524c3?pvs=21)

---

: ì‹œê°„ì´ ê±¸ë¦¬ëŠ” ì‘ì—…(e.g. íœ´ëŒ€í°ì—ì„œ GPS ìœ„ì¹˜ë¥¼ ì•Œì•„ë‚´ê¸°, ì¸í„°ë„·ì—ì„œ íŒŒì¼ ë‹¤ìš´ë¡œë“œ ë°›ê¸°)ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ë°©ë²•

â‡’ UIê°€ freezeë˜ëŠ” ê²ƒì„ ë§‰ê³ , í•´ë‹¹ ì‘ì—…ì„ ë°± ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰

</aside>

5ï¸âƒ£ ì‚¬ìš©ìì˜ ë‚ ì”¨ ì •ë³´ë¥¼ ê°€ì§€ê³  ì˜¤ê¸° ìœ„í•´ì„œ permission ë°›ê¸°

<aside>

1 ) `clima\android\app\src\main` ì˜ `AndroidManifest.xml`ì—ì„œ

```xml
<manifest xmlns:android="http://schemas.android.com/apk/res/android">
    **<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />**
...
</manifest>
```

2 ) `clima\ios\Runner`ì˜ `Info.plist`ì—ì„œ

```xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    **<key>NSLocationWhenInUseUsageDescription</key>
    <string>This app needs access to location when open.</string>
 .
 .
 .**
```

</aside>

6ï¸âƒ£ ì‹¤í–‰ í™•ì¸í•˜ê¸°

```dart
// lib/screens/loading_screen.dart

import 'package:flutter/material.dart';
**import 'package:geolocator/geolocator.dart';**

class LoadingScreen extends StatefulWidget {
  const LoadingScreen({super.key});

  @override
  _LoadingScreenState createState() => _LoadingScreenState();
}

class _LoadingScreenState extends State<LoadingScreen> {
  **void getLocation() async {
    [LocationPermission permission = await Geolocator.requestPermission();](https://florescene.tistory.com/180)
    Position position = await Geolocator.getCurrentPosition(
        locationSettings: LocationSettings(accuracy: LocationAccuracy.low)
    );
    print(position);
  }**

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Center(
        child: ElevatedButton(
          onPressed: () {
            //Get the current location
            **getLocation();**
          },
          child: Text('Get Location'),
        ),
      ),
    );
  }
}
```

---

ìœ„ì¹˜ê°€ ê°€ì ¸ì™€ ì§€ì§€ ì•ŠëŠ” ì˜¤ë¥˜ ë°œìƒ â‡’ Locationì„ constë¡œ ì„¤ì •!

```dart
import 'package:flutter/material.dart';

class LoadingScreen extends StatefulWidget {
  const LoadingScreen({super.key});

  @override
  _LoadingScreenState createState() => _LoadingScreenState();
}

class _LoadingScreenState extends State<LoadingScreen> {
  **// ìƒìˆ˜ë¡œ ìœ„ì¹˜ ê°’ ì„¤ì •
  static const double latitude = 47.6;
  static const double longitude = 122.3;

  void getLocation() {
    print('ìœ„ë„: $latitude');
    print('ê²½ë„: $longitude');
    print('ìœ„ì¹˜: ì‹œì• í‹€, ë¯¸êµ­');
  }**

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Center(
        child: ElevatedButton(
          onPressed: () {
            getLocation();
          },
          child: const Text('Get Location'),
        ),
      ),
    );
  }
}

// ê²°ê³¼
// D/ProfileInstaller( 8107): Installing profile for com.example.clima
// I/flutter ( 8107): ìœ„ë„: 47.6
// I/flutter ( 8107): ê²½ë„: 122.3
// I/flutter ( 8107): ìœ„ì¹˜: ì‹œì• í‹€, ë¯¸êµ­
```

---

## 141. [Dart] Futures, Async & Await

```dart
void getLocation() **async** {
  [LocationPermission permission = **await** Geolocator.requestPermission();](https://florescene.tistory.com/180)
  Position position = **await** Geolocator.getCurrentPosition(
      locationSettings: LocationSettings(accuracy: LocationAccuracy.low)
  );
  print(position);
}
```

### ğŸŒˆ Asynchronous Programming

**ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°**

ì „ì œ: loadí•˜ëŠ” ë° ì˜¤ëœ ì‹œê°„ì´ ê±¸ë¦¬ëŠ” ë°ì´í„°ë¥¼ í™”ë©´ì— ë„ì›Œì•¼ í•˜ëŠ” ê²½ìš°

---

**Synchronous, ë™ê¸°í™”**

: ì½”ë“œê°€ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰ë˜ë©°, ê° ì‘ì—…ì´ ì™„ë£Œë  ë•Œê¹Œì§€ ë‹¤ìŒ ì½”ë“œê°€ **ëŒ€ê¸°(blocking)**

â‡’ step1 â†’ step2 ì™„ë£Œ ëŒ€ê¸° â†’ step3 ì‹¤í–‰

```dart
void moon() {
	// step1
	print('Hello Moon!');
	// step2
	**syncLoad('image from NASA');**
	// step3
	print('Bye Moon!');
}
```

`Hello Moon!`

---

~~~Few Moments Later~~~

![](https://images.unsplash.com/photo-1522030299830-16b8d3d049fe?ixlib=rb-4.1.0&q=85&fm=jpg&crop=entropy&cs=srgb)

---

`Bye Moon!`

```dart
// scratch.dart
import 'dart:io';

void main() {
  performTasks();
}

void performTasks() {
  task1();
  task2();
  task3();
}

void task1() {
  String result = 'task 1 data';
  print('Task 1 Complete');
}
void task2() {
  **Duration threeSeconds = Duration(seconds: 3);
  sleep(threeSeconds); // ì§€ì—°ì„ ìœ„í•œ method**

  String result = 'task 2 data';
  print('Task 2 Complete');
}
void task3() {
  String result = 'task 3 data';
  print('Task 3 Complete');
}

// ê²°ê³¼:
Task 1 Complete
// 3ì´ˆ í›„ì—
Task 2 Complete
Task 3 Complete
```

---

**Asynchronous, ë¹„ ë™ê¸°í™”**

: ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—…(ë„¤íŠ¸ì›Œí¬ ìš”ì²­, íŒŒì¼ ì½ê¸° ë“±)ì„ **ê¸°ë‹¤ë¦¬ì§€ ì•Šê³ ** ë‹¤ìŒ ì½”ë“œë¥¼ ë¨¼ì € ì‹¤í–‰, ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—…ì´ ì™„ë£Œë˜ë©´, ê·¸ ê²°ê³¼ë¥¼ ë‚˜ì¤‘ì— ì²˜ë¦¬

```dart
void moon() {
	// step1
	print('Hello Moon!');
	// step2
	a**syncload('image from NASA');**
	// step3
	print('Bye Moon!');
}
```

`Hello Moon!`

---

`Bye Moon!`

![ë°±ê·¸ë¼ìš´](https://images.unsplash.com/photo-1522030299830-16b8d3d049fe?ixlib=rb-4.1.0&q=85&fm=jpg&crop=entropy&cs=srgb)

ë°±ê·¸ë¼ìš´

---

**Asynchronous method**

```dart
**Future.delayed(ì§€ì—° ì‹œê°„, ì§€ì—° í›„ ë°œìƒí•  ì¼ì— ëŒ€í•œ callback func)**
```

```dart
**// scratch.dart**
import 'dart:io';

void main() {
  performTasks();
}

void performTasks() {
  task1();
  task2();
  task3();
}

void task1() {
  String result = 'task 1 data';
  print('Task 1 Complete');
}
**void task2() {
  Duration threeSeconds = Duration(seconds: 3);
  Future.delayed(threeSeconds, () {
    String result = 'task 2 data';
    print('Task 2 Complete');
  });
}**

void task3() {
  String result = 'task 3 data';
  print('Task 3 Complete');
}

// ê²°ê³¼:
Task 1 Complete
// ì§€ì—° 3ì´ˆ ì‹œì‘
Task 3 Complete
Task 2 Complete
```

**# task3ê°€ task2ì— ì˜ì¡´í•  ë•Œ**

```dart
import 'dart:io';

void main() {
  performTasks();
}

void performTasks() {
  task1();
  **String task2Result = task2();
  task3(task2Result);**
}

void task1() {
  String result = 'task 1 data';
  print('Task 1 Complete');
}

String task2() {
  Duration threeSeconds = Duration(seconds: 3);
  **String result = 'before';**

  **Future.delayed(threeSeconds, () {
    result = 'task 2 data';
    print('Task 2 Complete');
  });

  return result;**
}

void task3(**String task2Data**) {
  String result = 'task 3 data';
  **print('Task 3 Complete with $task2Data');**
}

// ê²°ê³¼
Task 1 Complete
**Task 3 Complete with before
Task 2 Complete**
```

**â‡’ task2ê°€ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ì•¼!**

```dart
void performTasks() **async** {
  task1();
  String task2Result = **await** task2();
  task3(task2Result);
}

**Future** task2() **async** {
  Duration threeSeconds = Duration(seconds: 3);
  String result = 'before';

  **await** Future.delayed(threeSeconds, () {
    result = 'task 2 data';
    print('Task 2 Complete');
  });

  return result;
}

// ê²°ê³¼
Task 1 Complete
**Task 2 Complete
Task 3 Complete with task 2 data**
```

---

### ğŸŒˆ Future<T>

: **ë¯¸ë˜ì— ì™„ë£Œë  ì‘ì—…ì˜ ê²°ê³¼**ë¥¼ ë‚˜íƒ€ë‚´ëŠ” **ê°ì²´**

- **T**: ì‘ì—…ì´ ì™„ë£Œë˜ì—ˆì„ ë•Œ ë°˜í™˜í•  **ë°ì´í„° íƒ€ì…**
- ì‹œê°„ì´ ê±¸ë¦¬ëŠ” ì‘ì—… (e.g. ë„¤íŠ¸ì›Œí¬ ìš”ì²­, íŒŒì¼ ì½ê¸° ë“±)ì˜ ê²°ê³¼ë¥¼ ë‹´ëŠ” **ì•½ì†**

â‡’ `Future<T>`: â€œë‚˜ì¤‘ì— T íƒ€ì…ì˜ ê°’ì„ ì¤„ê²Œâ€ë¼ëŠ” ì•½ì†!
`await`ë¥¼ ë¶™ì´ë©´ ê·¸ ì•½ì†ì´ ì§€ì¼œì§ˆ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼

```dart
**Future<String>** task2() **async** {
  Duration threeSeconds = Duration(seconds: 3);
  String result = 'before';

  **await** Future.delayed(threeSeconds, () {
    result = 'task 2 data';
    print('Task 2 Complete');
  });

  return result;
}
```

[scratch.dart](scratch.dart)

---

## 142. Stateful Widget Lifecycle Methods

ì• í”Œë¦¬ì¼€ì´ì…˜ì´ buildë˜ìë§ˆì `getLocation()`í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ê¸°ë¥¼ ì›í•œë‹¤ë©´â€¦?

### ğŸŒˆ Widget Lifecycles

**Stateless**: ë³€í™”ë¥¼ ì›í•  ë•Œë§ˆë‹¤ ë¶€ìˆ˜ê³  ìƒˆë¡œ ë§Œë“¤ì–´ì•¼ í•¨

```dart
class Screen1 extends StatelessWidget {
	@override
	Widget **build**(BuildContext context) {
		return // ì‚¬ìš©ìê°€ ë„£ì„ ìˆ˜ ìˆìŒ;
	}
}
```

â‡’ `build` 

**Stateful**: ìƒíƒœë¥¼ ì„¤ì •í•˜ë©´ ëª¨ë“  ë³€ìˆ˜ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŒ

```dart
void **initState**() {}

Widget **build**(BuildContext context) {
	return //;
}

void **deactivate**() {}
```

â‡’ `initState` â†’ `build` â†’ `deactivate`

**`initState`**: ìƒíƒœ ì €ì¥ ìœ„ì ¯ì´ ìƒì„±ë˜ëŠ” ìˆœê°„ ë°œìƒí•˜ê¸°ë¥¼ ì›í•˜ëŠ” ì¼ì„ `{ }` ì— ì¶”ê°€

**`build`**: rebuildí•  ë•Œë§ˆë‹¤ ì¼ì–´ë‚˜ê¸°ë¥¼ ì›í•˜ëŠ” ì¼ì„ `{ }`ì— ì¶”ê°€

**`deactivate`**: ìƒíƒœ ì €ì¥ ìœ„ì ¯ì´ íŒŒê´´ë˜ëŠ” ìˆœê°„ ë°œìƒí•˜ê¸°ë¥¼ ì›í•˜ëŠ” ì¼ì„ `{ }`ì— ì¶”ê°€

```dart
// loading_screen.dart
import 'package:flutter/material.dart';
import 'package:geolocator/geolocator.dart';

class LoadingScreen extends StatefulWidget {
  const LoadingScreen({super.key});

  @override
  _LoadingScreenState createState() => _LoadingScreenState();
}

class _LoadingScreenState extends State<LoadingScreen> {

  **@override
  void initState() {
    super.initState();
    getLocation();
  }**

  void getLocation() async {
    LocationPermission permission = await Geolocator.requestPermission();
    Position position = await Geolocator.getCurrentPosition(
        locationSettings: LocationSettings(accuracy: LocationAccuracy.low)
    );
    print(position);
  }

  @override
  Widget build(BuildContext context) {
    return **Scaffold();**
  }
}
```

---

## 143. [Dart] Exception Handling & Null Aware Operators

### ğŸŒˆ Dart Exception Handling

- **Compile Error**: ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤í–‰ë˜ì§€ë„ ì•Šê²Œ ë§Œë“œëŠ” ì—ëŸ¬.
    
    ```dart
    main() {
    	String myString = '15';
    }
    ```
    
- **Uncaught Exception**: ë°ì´í„° íƒ€ì… ìƒìœ¼ë¡œ ì•„ë¬´ ë¬¸ì œê°€ ì—†ëŠ”ë° ë°œìƒí•˜ëŠ” ì—ëŸ¬
    
    ```dart
    main() {
    	String **myString** = 'abc';
    	double myStringAsDouble = double.parse(**myString**);
    	print(myStringAsDouble + 5);
    }
    ```
    

---

**â‡’** **`try-catch`**: ì—ëŸ¬ê°€ ë°œìƒí•´ë„ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ crushë˜ì§€ ì•Šê²Œ!

```dart
main() {
	String myString = 'abc';
	
	**try {**
		double myStringAsDouble = double.parse(myString);
		print(myStringAsDouble + 5);
	} **catch (e)** {
		print(e);
	}
}
```

```dart
@override
Widget build(BuildContext context) {
	String myMargin = 'abc';
	
	return Scaffold (
		body: Container(
			margin: EdgeInsets.all(double.parse(myMargin)),
			color: Colors.red,
		),
	);
}
```

`try`ì—ì„œ ì˜¤ë¥˜ê°€ ë‚˜ë©´, `catch`ë¬¸ì— í•´ë‹¹í•˜ëŠ” â†’
Scaffoldë¥¼ ë³´ì—¬ì¤€ë‹¤

```dart
@override
Widget build(BuildContext context) {
	String myMargin = 'abc';
	**double myMarginAsDouble;**
	
	**try {**
		double myMarginAsDouble = double.parse(myMargin);
	**} catch (e) {**
		print(e);
		myMarginAsDouble = 30.0;
	**}**
	
	return Scaffold(
		body: Container(
			margin: EdgeInsets.all(30),
			color: Colors.red,
		),
	);
}
```

**+ `throw` í‚¤ì›Œë“œ**

---

```dart
void sthLessThan10(int n) {
	if (n > 10) {
		**throw 'n is bigger than 10, n should always be less than 10!';**
	}
}
```

ì—ëŸ¬ë¥¼ ìœ ë°œí•¨ìœ¼ë¡œì¨ ì›í•˜ì§€ ì•ŠëŠ” ìƒí™©ì„ ë§‰ëŠ”ë‹¤!

```dart
@override
Widget build(BuildContext context) {
	String myMargin = 'abc';
	
	**try {**
		double myMarginAsDouble = double.parse(myMargin);
		return Scaffold (
			body: Container(
				margin: EdgeInsets.all(double.parse(myMarginAsDouble)),
				color: Colors.red,
			),
		);
	**} catch (e) {**
		print(e);
		return Scaffold(
			body: Container(
				margin: EdgeInsets.all(30),
				color: Colors.red,
			),
		);
	**}**
}
```

<aside>

### ğŸŒˆ Null Aware Operator (??)

---

**someVariable ?? defaultValue**

```dart
@override
Widget build(BuildContext context) {
	String myMargin = 'abc';
	**double myMarginAsDouble;**
	
	**try {**
		double myMarginAsDouble = double.parse(myMargin);
	**} catch (e) {**
		print(e);
	**}**
	
	return Scaffold(
		body: Container(
			**margin: EdgeInsets.all(myMarginAsDouble ?? 30.0),**
			color: Colors.red,
		),
	);
}
```

ë§Œì•½ `??` ì „ì— ìˆëŠ” ê°’ì´ NULLì´ ì•„ë‹ˆë¼ë©´ ê·¸ ê°’ì„ ì‚¬ìš©. NULLì´ë¼ë©´ `??` ë‹¤ìŒ ê°’ì„ ì‚¬ìš©!

</aside>

```dart
// loading_screen.dart
import 'package:flutter/material.dart';
import 'package:geolocator/geolocator.dart';

class LoadingScreen extends StatefulWidget {
  const LoadingScreen({super.key});

  @override
  _LoadingScreenState createState() => _LoadingScreenState();
}

class _LoadingScreenState extends State<LoadingScreen> {

  @override
  void initState() {
    super.initState();
    getLocation();
  }

  void getLocation() async {
	  try {
	    LocationPermission permission = await Geolocator.requestPermission();
	    Position position = await Geolocator.getCurrentPosition(
	        locationSettings: LocationSettings(accuracy: LocationAccuracy.low)
	    );
	    print(position);
	   } catch (e) {
		   print(e);
	   }
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(...);
  }
}
```

---

## 144. Async/Await Challenge

```dart
**// location.dart

import 'package:geolocator/geolocator.dart';

class Location {
  double latitude = 47.75;
  double longitude = 127.74;

  Future<void> getCurrentLocation() async {
    try {
      LocationPermission permission = await Geolocator.requestPermission();
      Position position = await Geolocator.getCurrentPosition(
          locationSettings: LocationSettings(accuracy: LocationAccuracy.low)
      );
      latitude = position.latitude;
      longitude = position.longitude;
    } catch (e) {
      print(e);
    }
  }
}**
```

```dart
// loading_screen.dart

import 'package:flutter/material.dart';
**import 'package:clima/services/location.dart';**

class LoadingScreen extends StatefulWidget {
  const LoadingScreen({super.key});

  @override
  _LoadingScreenState createState() => _LoadingScreenState();
}

class _LoadingScreenState extends State<LoadingScreen> {

  @override
  void initState() {
    super.initState();
    getLocation();
  }

  // ìƒìˆ˜ë¡œ ìœ„ì¹˜ ê°’ ì„¤ì •
  // static const double latitude = 47.6;
  // static const double longitude = 122.3;
  //
  // void getLocation() {
  //   print('ìœ„ë„: $latitude');
  //   print('ê²½ë„: $longitude');
  //   print('ìœ„ì¹˜: ì‹œì• í‹€, ë¯¸êµ­');
  // }

  **void getLocation() async {
    Location location = Location();
    await location.getCurrentLocation();
    print(location.latitude);
    print(location.longitude);
  }**

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      // body: Center(
      //   child: ElevatedButton(
      //     onPressed: () {
      //       getLocation();
      //     },
      //     child: const Text('Get Location'),
      //   ),
      // ),
    );
  }
}
```

---

## 145. Application Programming Interfaces (APIs) Explained

<aside>

### ğŸŒˆ APIs

: a set of commands, functions, protocols, and objects that programmers can use to ***create software*** or ***interact with an external system***

â‡’ provides developers with *standard commands* for performing *common operations* so they do not have to write the code from scratch.

---

- A â€”-(GET request)â€”â†’ B
A â†â€”(response)â€”â€”- B
- API keys
    - A â€”-(GET request & **API key**)â€”â†’ B
    A â†â€”â€”â€”(response)â€”-â€”â€”- B
- Your App â€”â€”**Request**â€”â€”â†’ Someone Elseâ€™s Program
                               **API**
Your App â†â€”-**Response**â€”â€”- Someone Elseâ€™s Program
- APIì— ì •ì˜ë˜ì§€ ì•ŠëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ê³ ì í•˜ë©´ ì—ëŸ¬ê°€ ë‚œë‹¤
</aside>

---

## 146. Networking in Flutter Apps with the HTTP Package

### ğŸŒˆ Fetch data from the Internet

---

1ï¸âƒ£ http package ì‚¬ìš©í•˜ê¸°

[http | Dart package](https://pub.dev/packages/http)

```yaml
dependencies:
  http: ^1.6.0
```

```dart
import 'package:http/http.dart';
```

2ï¸âƒ£ network request ë§Œë“¤ê¸°

https://docs.flutter.dev/cookbook/networking/fetch-data

```dart
// loading_screen.dart

.
.
.
  @override
  void initState() {
    super.initState();
    getLocation();
    **getData();**
  }
  .
  .
  .
  **void getData() async {
    Response response = await get(
        Uri.parse('https://samples.openweathermap.org/data/2.5/weather?lat=35&lon=139&appid=b6907d289e10d714a6e88b30761fae22'),
    );
    print(response);
  }**
```

```dart
// console
I/flutter (15781): Instance of 'Response'
I/flutter (15781): Instance of 'Response'
```

<aside>

### ğŸŒˆ Response

---

- **Properties**
    - body â†’ String
        
        : responseì˜ ì£¼ ë‚´ìš©ì„ ë‹´ê³  ìˆëŠ” ë¶€ë¶„
        
        ```dart
        void getData() async {
            Response response = await get(
                Uri.parse('https://samples.openweathermap.org/data/2.5/weather?lat=35&lon=139&appid=b6907d289e10d714a6e88b30761fae22'),
            );
            **print(response.body);**
          }
          
        // ê²°ê³¼
        // I/flutter (15781): {"coord":{"lon":139.01,"lat":35.02},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"base":"stations","main":{"temp":285.514,"pressure":1013.75,"humidity":100,"temp_min":285.514,"temp_max":285.514,"sea_level":1023.22,"grnd_level":1013.75},"wind":{"speed":5.52,"deg":311},"clouds":{"all":0},"dt":1485792967,"sys":{"message":0.0025,"country":"JP","sunrise":1485726240,"sunset":1485763863},"id":1907296,"name":"Tawarano","cod":200}
        ```
        
    - statusCode â†’ int
        
        : ì™¸ë¶€ ì„œë²„ì™€ ìƒí˜¸ ì‘ìš©í•  ë•Œ ë¬´ìŠ¨ ì¼ì´ ì¼ì–´ë‚¬ëŠ”ì§€ ê²°ê³¼ë¥¼ ì•Œë ¤ì£¼ëŠ” int
        
        ```dart
        void getData() async {
            Response response = await get(
                Uri.parse('https://samples.openweathermap.org/data/2.5/weather?lat=35&lon=139&appid=b6907d289e10d714a6e88b30761fae22'),
            );
            **print(response.statusCode);**
          }
          
        // ê²°ê³¼
        // I/flutter (15781): 200
        ```
        
        - 1xx: Informational
        2xx: Success (200: OKğŸ‘)
        3xx: Redirection
        4xx: Client Error (400: Bad RequestğŸ‘)
        5xx: Server Error
</aside>

3ï¸âƒ£ statusCode ê¸°ì¤€ìœ¼ë¡œ if-else & importí•œ íŒ¨í‚¤ì§€ì— ì´ë¦„ ë¶™ì—¬ì£¼ê¸°

```dart
import 'package:flutter/material.dart';
import 'package:clima/services/location.dart';
import 'package:http/http.dart' **as http**;

class LoadingScreen extends StatefulWidget {
  const LoadingScreen({super.key});

  @override
  _LoadingScreenState createState() => _LoadingScreenState();
}

class _LoadingScreenState extends State<LoadingScreen> {

  @override
  void initState() {
    super.initState();
    getLocation();
    getData();
  }

  void getLocation() async {
    Location location = Location();
    await location.getCurrentLocation();
    print(location.latitude);
    print(location.longitude);
  }

  void getData() async {
    http.Response response = await http.get(
        Uri.parse('https://samples.openweathermap.org/data/2.5/weather?lat=35&lon=139&appid=b6907d289e10d714a6e88b30761fae22'),
    );
    **if (response.statusCode == 200) {
      String data = response.body;
      print(data);
    } else {
      print(response.statusCode);
    }**
  }

  @override
  Widget build(BuildContext context) {
    getData();
    return Scaffold();
  }
}
```