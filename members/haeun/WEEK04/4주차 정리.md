# Xylophone

날짜: 2025/10/22 오후 11:59 (GMT+9) → 2025/10/31 오전 12:01 (GMT+9)
주차: 4주차

### 코드 리팩토링 전

```dart
import 'package:flutter/material.dart';
import 'package:audioplayers/audioplayers.dart';

void main() {
  runApp(const Xylophone());
}

class Xylophone extends StatelessWidget {
  const Xylophone({super.key});

  void playSound(int soundNum) {
    final player = AudioPlayer();
    player.play(AssetSource('note$soundNum.wav'));
  }

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: Scaffold(
        backgroundColor: Colors.black,
        body: SafeArea(
          child: Column(
            crossAxisAlignment: CrossAxisAlignment.stretch,
            children: [
              Expanded(
                child: Container(
                  color: Colors.redAccent,
                  child: TextButton(
                    onPressed: () {
                      playSound(1);
                    },
                    child: Text(' '),
                  ),
                ),
              ),
              Expanded(
                child: Container(
                  color: Colors.deepOrangeAccent,
                  child: TextButton(
                    onPressed: () {
                      playSound(2);
                    },
                    child: Text(' '),
                  ),
                ),
              ),
              Expanded(
                child: Container(
                  color: Colors.yellowAccent,
                  child: TextButton(
                    onPressed: () {
                      playSound(3);
                    },
                    child: Text(' '),
                  ),
                ),
              ),
              Expanded(
                child: Container(
                  color: Colors.greenAccent,
                  child: TextButton(
                    onPressed: () {
                      playSound(4);
                    },
                    child: Text(' '),
                  ),
                ),
              ),
              Expanded(
                child: Container(
                  color: Colors.blueAccent,
                  child: TextButton(
                    onPressed: () {
                      playSound(5);
                    },
                    child: Text(' '),
                  ),
                ),
              ),
              Expanded(
                child: Container(
                  color: Colors.indigo,
                  child: TextButton(
                    onPressed: () {
                      playSound(6);
                    },
                    child: Text(' '),
                  ),
                ),
              ),
              Expanded(
                child: Container(
                  color: Colors.deepPurpleAccent,
                  child: TextButton(
                    onPressed: () {
                      playSound(7);
                    },
                    child: Text(' '),
                  ),
                ),
              ),
            ],
          ),
        ),
      ),
    );
  }
}

```

### 코드 리팩토링 후

```dart
import 'package:flutter/material.dart';
import 'package:audioplayers/audioplayers.dart';

void main() {
  runApp(const Xylophone());
}

class Xylophone extends StatelessWidget {
  const Xylophone({super.key});

  void playSound(int soundNum) {
    final player = AudioPlayer();
    player.play(AssetSource('note$soundNum.wav'));
  }

  Expanded buildKey({required Color color, required int soundNumber}) {
    return Expanded(
      child: Container(
        color: color,
        child: TextButton(
          onPressed: () {
            playSound(soundNumber);
          },
          child: Text(' '),
        ),
      ),
    );
  }

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: Scaffold(
        backgroundColor: Colors.black,
        body: SafeArea(
          child: Column(
            crossAxisAlignment: CrossAxisAlignment.stretch,
            children: [
              buildKey(color: Colors.redAccent, soundNumber: 1),
              buildKey(color: Colors.orangeAccent, soundNumber: 2),
              buildKey(color: Colors.yellowAccent, soundNumber: 3),
              buildKey(color: Colors.greenAccent, soundNumber: 4),
              buildKey(color: Colors.blueAccent, soundNumber: 5),
              buildKey(color: Colors.indigoAccent, soundNumber: 6),
              buildKey(color: Colors.deepPurpleAccent, soundNumber: 7),
            ],
          ),
        ),
      ),
    );
  }
}

```

---

### buildKey() 함수

- 반환 타입을 Expanded로 지정하고, required를 사용하지 않는다면, 코드가 제대로 실행되지 않음.
- 해당 함수를 통하여, 불필요한 코드를 반복하지 않고도 다른 색상, 다른 소리를 낼 수 있도록 해서 생성이 가능해짐.
